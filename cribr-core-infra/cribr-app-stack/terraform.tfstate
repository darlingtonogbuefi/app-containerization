{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 217,
  "lineage": "8c60dded-1a71-47c5-e51e-cb4362108123",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "cribr",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "API_AND_CONFIG_MAP",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:us-east-1:493834426110:cluster/cribr-cluster",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJRUpLdngxODRJa0l3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRFeE1EUXlNRFEyTlRSYUZ3MHpOVEV4TURJeU1EVXhOVFJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUN4cU5vN2g2ckw0NlEwZDI2bERRRzIxc0JWd1pTM0loSU1MNUk5a3BLRy9PUmwwQTRoc25FT1NXWVUKZTZWTjBQZHQ5bDJOcldQbEJTNkhMc3JuTzd5VHVoek92WVZXK0FzRnNEYUpvRUFzQ0FkdGI1dDBKZEtDYTNrZApRL1dnT0hjS3J1aW5TUjNEbE1URmVJc0dyR3hnMEZrYnVuT2xXZXV3UDZDTW5qZ3ZMVmxvVTd0clhZdmVGUjh5CnBzL3dvZDhCL2J5SjJFek5qNExLSlJTYWtyWWc5ODJGeWdrM1JqVVg3K2NrL1Y0S1NsK3ZtTjdrMkhlTDVhSXUKelJSU0tlYUF1cDcvdUE0VGRPVDhoeWwybHNaL2Q1aVlod2swUXR5TVN6MGoyTEhkQUg4U01GQUltN3FocnBvVgpubU1YN3gxN0tkS21pR0JneU93eXBjaERiZkozQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTWkFtWG10N3I3eU9rTXJ5R21NTkNFWFdodEpqQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQjVhNStIQWlXSgptUTQ4N2V0ZXA4Q1ZEQkhuU2JQMTVobXBIejVab3hwL1FyK0xkYlUwMHJJbVdPR3NaYnlXMkNORWUxaEt4cVRrCkkzN2NxNlZMRml5ajRBVW9reXdja2V4VEpqdjdndXM0ME5IcWt5MHpXOEU2Z0pRMlRwSjRWYVd6UjRxNFRiZXIKcTY2cG5wQS9JQzdCV2pCclh4Q0hKekU2S1ZXMjQ2cTh2WGdDOEE0RTNSMzFhb0M2NVFseUkvWnlkck1XMlJEMQpIbHRpU2RHejloMHMwY0dXR2tnMkVkU3d4WWY3V0RxekxqOEt2Zi9kVkJETW0zVEl4bkJjSjAzanB0U1krYlpRClZBZ2Z4VzJESVBVNVkzbysyd2JNZVM4bVJsMjRvK1JqTXdLT2hnWmxaL3AzMUpzdjd5RHEyUFB4V3RMeTY3dE4KNXZQaUhLN3pVUXJxCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [],
            "created_at": "2025-11-04T20:46:09Z",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator"
            ],
            "endpoint": "https://5EDCC1E2B0083CF2C2CBAE11049CF112.gr7.us-east-1.eks.amazonaws.com",
            "id": "cribr-cluster",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.us-east-1.amazonaws.com/id/5EDCC1E2B0083CF2C2CBAE11049CF112"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "cribr-cluster",
            "outpost_config": [],
            "platform_version": "eks.6",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::493834426110:role/cribr-cluster-cluster-20251104204543841600000001",
            "status": "ACTIVE",
            "storage_config": [],
            "tags": {
              "Environment": "dev",
              "Name": "cribr-eks",
              "Terraform": "true",
              "terraform-aws-modules": "eks"
            },
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.34",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0fcc05a6c14bf3217",
                "endpoint_private_access": true,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [
                  "sg-0f28d4646813909da"
                ],
                "subnet_ids": [
                  "subnet-000905137e739e859",
                  "subnet-061a35377b4f3b982"
                ],
                "vpc_id": "vpc-0637b28c1cc0ed3e1"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "cribr",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cribr-cluster",
            "name": "cribr-cluster",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMudXMtZWFzdC0xLmFtYXpvbmF3cy5jb20vP0FjdGlvbj1HZXRDYWxsZXJJZGVudGl0eSZWZXJzaW9uPTIwMTEtMDYtMTUmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBWEY2V1RLMzdBVk81NlRKSyUyRjIwMjUxMTA0JTJGdXMtZWFzdC0xJTJGc3RzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTExMDRUMjEwOTQzWiZYLUFtei1FeHBpcmVzPTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1rOHMtYXdzLWlkJlgtQW16LVNpZ25hdHVyZT03NjhkNjBhY2FiODA1NmJhODdlYzNlYWI1MDM5YTBjYjc5MzU1MTBkZmI3Y2NmYzhkOTJlMDYyYjMzODhlMmQ4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "alb_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"iam:CreateServiceLinkedRole\"\r\n            ],\r\n            \"Resource\": \"*\",\r\n            \"Condition\": {\r\n                \"StringEquals\": {\r\n                    \"iam:AWSServiceName\": \"elasticloadbalancing.amazonaws.com\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:DescribeAccountAttributes\",\r\n                \"ec2:DescribeAddresses\",\r\n                \"ec2:DescribeAvailabilityZones\",\r\n                \"ec2:DescribeInternetGateways\",\r\n                \"ec2:DescribeVpcs\",\r\n                \"ec2:DescribeVpcPeeringConnections\",\r\n                \"ec2:DescribeSubnets\",\r\n                \"ec2:DescribeSecurityGroups\",\r\n                \"ec2:DescribeInstances\",\r\n                \"ec2:DescribeNetworkInterfaces\",\r\n                \"ec2:DescribeTags\",\r\n                \"ec2:GetCoipPoolUsage\",\r\n                \"ec2:DescribeCoipPools\",\r\n                \"ec2:GetSecurityGroupsForVpc\",\r\n                \"elasticloadbalancing:DescribeLoadBalancers\",\r\n                \"elasticloadbalancing:DescribeLoadBalancerAttributes\",\r\n                \"elasticloadbalancing:DescribeListeners\",\r\n                \"elasticloadbalancing:DescribeListenerCertificates\",\r\n                \"elasticloadbalancing:DescribeSSLPolicies\",\r\n                \"elasticloadbalancing:DescribeRules\",\r\n                \"elasticloadbalancing:DescribeTargetGroups\",\r\n                \"elasticloadbalancing:DescribeTargetGroupAttributes\",\r\n                \"elasticloadbalancing:DescribeTargetHealth\",\r\n                \"elasticloadbalancing:DescribeTags\",\r\n                \"elasticloadbalancing:DescribeTrustStores\",\r\n                \"elasticloadbalancing:DescribeListenerAttributes\",\r\n                \"elasticloadbalancing:DescribeCapacityReservation\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"cognito-idp:DescribeUserPoolClient\",\r\n                \"acm:ListCertificates\",\r\n                \"acm:DescribeCertificate\",\r\n                \"iam:ListServerCertificates\",\r\n                \"iam:GetServerCertificate\",\r\n                \"waf-regional:GetWebACL\",\r\n                \"waf-regional:GetWebACLForResource\",\r\n                \"waf-regional:AssociateWebACL\",\r\n                \"waf-regional:DisassociateWebACL\",\r\n                \"wafv2:GetWebACL\",\r\n                \"wafv2:GetWebACLForResource\",\r\n                \"wafv2:AssociateWebACL\",\r\n                \"wafv2:DisassociateWebACL\",\r\n                \"shield:GetSubscriptionState\",\r\n                \"shield:DescribeProtection\",\r\n                \"shield:CreateProtection\",\r\n                \"shield:DeleteProtection\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:AuthorizeSecurityGroupIngress\",\r\n                \"ec2:RevokeSecurityGroupIngress\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:CreateSecurityGroup\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:CreateTags\"\r\n            ],\r\n            \"Resource\": \"arn:aws:ec2:*:*:security-group/*\",\r\n            \"Condition\": {\r\n                \"StringEquals\": {\r\n                    \"ec2:CreateAction\": \"CreateSecurityGroup\"\r\n                },\r\n                \"Null\": {\r\n                    \"aws:RequestTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:CreateTags\",\r\n                \"ec2:DeleteTags\"\r\n            ],\r\n            \"Resource\": \"arn:aws:ec2:*:*:security-group/*\",\r\n            \"Condition\": {\r\n                \"Null\": {\r\n                    \"aws:RequestTag/elbv2.k8s.aws/cluster\": \"true\",\r\n                    \"aws:ResourceTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"ec2:AuthorizeSecurityGroupIngress\",\r\n                \"ec2:RevokeSecurityGroupIngress\",\r\n                \"ec2:DeleteSecurityGroup\"\r\n            ],\r\n            \"Resource\": \"*\",\r\n            \"Condition\": {\r\n                \"Null\": {\r\n                    \"aws:ResourceTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:CreateLoadBalancer\",\r\n                \"elasticloadbalancing:CreateTargetGroup\"\r\n            ],\r\n            \"Resource\": \"*\",\r\n            \"Condition\": {\r\n                \"Null\": {\r\n                    \"aws:RequestTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:CreateListener\",\r\n                \"elasticloadbalancing:DeleteListener\",\r\n                \"elasticloadbalancing:CreateRule\",\r\n                \"elasticloadbalancing:DeleteRule\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:AddTags\",\r\n                \"elasticloadbalancing:RemoveTags\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"\r\n            ],\r\n            \"Condition\": {\r\n                \"Null\": {\r\n                    \"aws:RequestTag/elbv2.k8s.aws/cluster\": \"true\",\r\n                    \"aws:ResourceTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:AddTags\",\r\n                \"elasticloadbalancing:RemoveTags\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:elasticloadbalancing:*:*:listener/net/*/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:listener/app/*/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:listener-rule/net/*/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:listener-rule/app/*/*/*\"\r\n            ]\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:ModifyLoadBalancerAttributes\",\r\n                \"elasticloadbalancing:SetIpAddressType\",\r\n                \"elasticloadbalancing:SetSecurityGroups\",\r\n                \"elasticloadbalancing:SetSubnets\",\r\n                \"elasticloadbalancing:DeleteLoadBalancer\",\r\n                \"elasticloadbalancing:ModifyTargetGroup\",\r\n                \"elasticloadbalancing:ModifyTargetGroupAttributes\",\r\n                \"elasticloadbalancing:DeleteTargetGroup\",\r\n                \"elasticloadbalancing:ModifyListenerAttributes\",\r\n                \"elasticloadbalancing:ModifyCapacityReservation\"\r\n            ],\r\n            \"Resource\": \"*\",\r\n            \"Condition\": {\r\n                \"Null\": {\r\n                    \"aws:ResourceTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:AddTags\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\r\n                \"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"\r\n            ],\r\n            \"Condition\": {\r\n                \"StringEquals\": {\r\n                    \"elasticloadbalancing:CreateAction\": [\r\n                        \"CreateTargetGroup\",\r\n                        \"CreateLoadBalancer\"\r\n                    ]\r\n                },\r\n                \"Null\": {\r\n                    \"aws:RequestTag/elbv2.k8s.aws/cluster\": \"false\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:RegisterTargets\",\r\n                \"elasticloadbalancing:DeregisterTargets\"\r\n            ],\r\n            \"Resource\": \"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"elasticloadbalancing:SetWebAcl\",\r\n                \"elasticloadbalancing:ModifyListener\",\r\n                \"elasticloadbalancing:AddListenerCertificates\",\r\n                \"elasticloadbalancing:RemoveListenerCertificates\",\r\n                \"elasticloadbalancing:ModifyRule\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        }\r\n    ]\r\n}",
            "content_base64": "ew0KICAgICJWZXJzaW9uIjogIjIwMTItMTAtMTciLA0KICAgICJTdGF0ZW1lbnQiOiBbDQogICAgICAgIHsNCiAgICAgICAgICAgICJFZmZlY3QiOiAiQWxsb3ciLA0KICAgICAgICAgICAgIkFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAiaWFtOkNyZWF0ZVNlcnZpY2VMaW5rZWRSb2xlIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6ICIqIiwNCiAgICAgICAgICAgICJDb25kaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIlN0cmluZ0VxdWFscyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImlhbTpBV1NTZXJ2aWNlTmFtZSI6ICJlbGFzdGljbG9hZGJhbGFuY2luZy5hbWF6b25hd3MuY29tIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIkVmZmVjdCI6ICJBbGxvdyIsDQogICAgICAgICAgICAiQWN0aW9uIjogWw0KICAgICAgICAgICAgICAgICJlYzI6RGVzY3JpYmVBY2NvdW50QXR0cmlidXRlcyIsDQogICAgICAgICAgICAgICAgImVjMjpEZXNjcmliZUFkZHJlc3NlcyIsDQogICAgICAgICAgICAgICAgImVjMjpEZXNjcmliZUF2YWlsYWJpbGl0eVpvbmVzIiwNCiAgICAgICAgICAgICAgICAiZWMyOkRlc2NyaWJlSW50ZXJuZXRHYXRld2F5cyIsDQogICAgICAgICAgICAgICAgImVjMjpEZXNjcmliZVZwY3MiLA0KICAgICAgICAgICAgICAgICJlYzI6RGVzY3JpYmVWcGNQZWVyaW5nQ29ubmVjdGlvbnMiLA0KICAgICAgICAgICAgICAgICJlYzI6RGVzY3JpYmVTdWJuZXRzIiwNCiAgICAgICAgICAgICAgICAiZWMyOkRlc2NyaWJlU2VjdXJpdHlHcm91cHMiLA0KICAgICAgICAgICAgICAgICJlYzI6RGVzY3JpYmVJbnN0YW5jZXMiLA0KICAgICAgICAgICAgICAgICJlYzI6RGVzY3JpYmVOZXR3b3JrSW50ZXJmYWNlcyIsDQogICAgICAgICAgICAgICAgImVjMjpEZXNjcmliZVRhZ3MiLA0KICAgICAgICAgICAgICAgICJlYzI6R2V0Q29pcFBvb2xVc2FnZSIsDQogICAgICAgICAgICAgICAgImVjMjpEZXNjcmliZUNvaXBQb29scyIsDQogICAgICAgICAgICAgICAgImVjMjpHZXRTZWN1cml0eUdyb3Vwc0ZvclZwYyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlTG9hZEJhbGFuY2VycyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlTG9hZEJhbGFuY2VyQXR0cmlidXRlcyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlTGlzdGVuZXJzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVzY3JpYmVMaXN0ZW5lckNlcnRpZmljYXRlcyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlU1NMUG9saWNpZXMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpEZXNjcmliZVJ1bGVzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVzY3JpYmVUYXJnZXRHcm91cHMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpEZXNjcmliZVRhcmdldEdyb3VwQXR0cmlidXRlcyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlVGFyZ2V0SGVhbHRoIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVzY3JpYmVUYWdzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVzY3JpYmVUcnVzdFN0b3JlcyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkRlc2NyaWJlTGlzdGVuZXJBdHRyaWJ1dGVzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVzY3JpYmVDYXBhY2l0eVJlc2VydmF0aW9uIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6ICIqIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImNvZ25pdG8taWRwOkRlc2NyaWJlVXNlclBvb2xDbGllbnQiLA0KICAgICAgICAgICAgICAgICJhY206TGlzdENlcnRpZmljYXRlcyIsDQogICAgICAgICAgICAgICAgImFjbTpEZXNjcmliZUNlcnRpZmljYXRlIiwNCiAgICAgICAgICAgICAgICAiaWFtOkxpc3RTZXJ2ZXJDZXJ0aWZpY2F0ZXMiLA0KICAgICAgICAgICAgICAgICJpYW06R2V0U2VydmVyQ2VydGlmaWNhdGUiLA0KICAgICAgICAgICAgICAgICJ3YWYtcmVnaW9uYWw6R2V0V2ViQUNMIiwNCiAgICAgICAgICAgICAgICAid2FmLXJlZ2lvbmFsOkdldFdlYkFDTEZvclJlc291cmNlIiwNCiAgICAgICAgICAgICAgICAid2FmLXJlZ2lvbmFsOkFzc29jaWF0ZVdlYkFDTCIsDQogICAgICAgICAgICAgICAgIndhZi1yZWdpb25hbDpEaXNhc3NvY2lhdGVXZWJBQ0wiLA0KICAgICAgICAgICAgICAgICJ3YWZ2MjpHZXRXZWJBQ0wiLA0KICAgICAgICAgICAgICAgICJ3YWZ2MjpHZXRXZWJBQ0xGb3JSZXNvdXJjZSIsDQogICAgICAgICAgICAgICAgIndhZnYyOkFzc29jaWF0ZVdlYkFDTCIsDQogICAgICAgICAgICAgICAgIndhZnYyOkRpc2Fzc29jaWF0ZVdlYkFDTCIsDQogICAgICAgICAgICAgICAgInNoaWVsZDpHZXRTdWJzY3JpcHRpb25TdGF0ZSIsDQogICAgICAgICAgICAgICAgInNoaWVsZDpEZXNjcmliZVByb3RlY3Rpb24iLA0KICAgICAgICAgICAgICAgICJzaGllbGQ6Q3JlYXRlUHJvdGVjdGlvbiIsDQogICAgICAgICAgICAgICAgInNoaWVsZDpEZWxldGVQcm90ZWN0aW9uIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6ICIqIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImVjMjpBdXRob3JpemVTZWN1cml0eUdyb3VwSW5ncmVzcyIsDQogICAgICAgICAgICAgICAgImVjMjpSZXZva2VTZWN1cml0eUdyb3VwSW5ncmVzcyINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiUmVzb3VyY2UiOiAiKiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIkVmZmVjdCI6ICJBbGxvdyIsDQogICAgICAgICAgICAiQWN0aW9uIjogWw0KICAgICAgICAgICAgICAgICJlYzI6Q3JlYXRlU2VjdXJpdHlHcm91cCINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiUmVzb3VyY2UiOiAiKiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIkVmZmVjdCI6ICJBbGxvdyIsDQogICAgICAgICAgICAiQWN0aW9uIjogWw0KICAgICAgICAgICAgICAgICJlYzI6Q3JlYXRlVGFncyINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiUmVzb3VyY2UiOiAiYXJuOmF3czplYzI6KjoqOnNlY3VyaXR5LWdyb3VwLyoiLA0KICAgICAgICAgICAgIkNvbmRpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAiU3RyaW5nRXF1YWxzIjogew0KICAgICAgICAgICAgICAgICAgICAiZWMyOkNyZWF0ZUFjdGlvbiI6ICJDcmVhdGVTZWN1cml0eUdyb3VwIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIk51bGwiOiB7DQogICAgICAgICAgICAgICAgICAgICJhd3M6UmVxdWVzdFRhZy9lbGJ2Mi5rOHMuYXdzL2NsdXN0ZXIiOiAiZmFsc2UiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImVjMjpDcmVhdGVUYWdzIiwNCiAgICAgICAgICAgICAgICAiZWMyOkRlbGV0ZVRhZ3MiDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogImFybjphd3M6ZWMyOio6KjpzZWN1cml0eS1ncm91cC8qIiwNCiAgICAgICAgICAgICJDb25kaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIk51bGwiOiB7DQogICAgICAgICAgICAgICAgICAgICJhd3M6UmVxdWVzdFRhZy9lbGJ2Mi5rOHMuYXdzL2NsdXN0ZXIiOiAidHJ1ZSIsDQogICAgICAgICAgICAgICAgICAgICJhd3M6UmVzb3VyY2VUYWcvZWxidjIuazhzLmF3cy9jbHVzdGVyIjogImZhbHNlIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIkVmZmVjdCI6ICJBbGxvdyIsDQogICAgICAgICAgICAiQWN0aW9uIjogWw0KICAgICAgICAgICAgICAgICJlYzI6QXV0aG9yaXplU2VjdXJpdHlHcm91cEluZ3Jlc3MiLA0KICAgICAgICAgICAgICAgICJlYzI6UmV2b2tlU2VjdXJpdHlHcm91cEluZ3Jlc3MiLA0KICAgICAgICAgICAgICAgICJlYzI6RGVsZXRlU2VjdXJpdHlHcm91cCINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiUmVzb3VyY2UiOiAiKiIsDQogICAgICAgICAgICAiQ29uZGl0aW9uIjogew0KICAgICAgICAgICAgICAgICJOdWxsIjogew0KICAgICAgICAgICAgICAgICAgICAiYXdzOlJlc291cmNlVGFnL2VsYnYyLms4cy5hd3MvY2x1c3RlciI6ICJmYWxzZSINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJFZmZlY3QiOiAiQWxsb3ciLA0KICAgICAgICAgICAgIkFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6Q3JlYXRlTG9hZEJhbGFuY2VyIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6Q3JlYXRlVGFyZ2V0R3JvdXAiDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogIioiLA0KICAgICAgICAgICAgIkNvbmRpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAiTnVsbCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImF3czpSZXF1ZXN0VGFnL2VsYnYyLms4cy5hd3MvY2x1c3RlciI6ICJmYWxzZSINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJFZmZlY3QiOiAiQWxsb3ciLA0KICAgICAgICAgICAgIkFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6Q3JlYXRlTGlzdGVuZXIiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpEZWxldGVMaXN0ZW5lciIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkNyZWF0ZVJ1bGUiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpEZWxldGVSdWxlIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6ICIqIg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkFkZFRhZ3MiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpSZW1vdmVUYWdzIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6IFsNCiAgICAgICAgICAgICAgICAiYXJuOmF3czplbGFzdGljbG9hZGJhbGFuY2luZzoqOio6dGFyZ2V0Z3JvdXAvKi8qIiwNCiAgICAgICAgICAgICAgICAiYXJuOmF3czplbGFzdGljbG9hZGJhbGFuY2luZzoqOio6bG9hZGJhbGFuY2VyL25ldC8qLyoiLA0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6Kjpsb2FkYmFsYW5jZXIvYXBwLyovKiINCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiQ29uZGl0aW9uIjogew0KICAgICAgICAgICAgICAgICJOdWxsIjogew0KICAgICAgICAgICAgICAgICAgICAiYXdzOlJlcXVlc3RUYWcvZWxidjIuazhzLmF3cy9jbHVzdGVyIjogInRydWUiLA0KICAgICAgICAgICAgICAgICAgICAiYXdzOlJlc291cmNlVGFnL2VsYnYyLms4cy5hd3MvY2x1c3RlciI6ICJmYWxzZSINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJFZmZlY3QiOiAiQWxsb3ciLA0KICAgICAgICAgICAgIkFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6QWRkVGFncyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOlJlbW92ZVRhZ3MiDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogWw0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6KjpsaXN0ZW5lci9uZXQvKi8qLyoiLA0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6KjpsaXN0ZW5lci9hcHAvKi8qLyoiLA0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6KjpsaXN0ZW5lci1ydWxlL25ldC8qLyovKiIsDQogICAgICAgICAgICAgICAgImFybjphd3M6ZWxhc3RpY2xvYWRiYWxhbmNpbmc6KjoqOmxpc3RlbmVyLXJ1bGUvYXBwLyovKi8qIg0KICAgICAgICAgICAgXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOk1vZGlmeUxvYWRCYWxhbmNlckF0dHJpYnV0ZXMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpTZXRJcEFkZHJlc3NUeXBlIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6U2V0U2VjdXJpdHlHcm91cHMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpTZXRTdWJuZXRzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVsZXRlTG9hZEJhbGFuY2VyIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6TW9kaWZ5VGFyZ2V0R3JvdXAiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpNb2RpZnlUYXJnZXRHcm91cEF0dHJpYnV0ZXMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpEZWxldGVUYXJnZXRHcm91cCIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOk1vZGlmeUxpc3RlbmVyQXR0cmlidXRlcyIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOk1vZGlmeUNhcGFjaXR5UmVzZXJ2YXRpb24iDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogIioiLA0KICAgICAgICAgICAgIkNvbmRpdGlvbiI6IHsNCiAgICAgICAgICAgICAgICAiTnVsbCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImF3czpSZXNvdXJjZVRhZy9lbGJ2Mi5rOHMuYXdzL2NsdXN0ZXIiOiAiZmFsc2UiDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgICAiRWZmZWN0IjogIkFsbG93IiwNCiAgICAgICAgICAgICJBY3Rpb24iOiBbDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkFkZFRhZ3MiDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogWw0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6Kjp0YXJnZXRncm91cC8qLyoiLA0KICAgICAgICAgICAgICAgICJhcm46YXdzOmVsYXN0aWNsb2FkYmFsYW5jaW5nOio6Kjpsb2FkYmFsYW5jZXIvbmV0LyovKiIsDQogICAgICAgICAgICAgICAgImFybjphd3M6ZWxhc3RpY2xvYWRiYWxhbmNpbmc6KjoqOmxvYWRiYWxhbmNlci9hcHAvKi8qIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJDb25kaXRpb24iOiB7DQogICAgICAgICAgICAgICAgIlN0cmluZ0VxdWFscyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkNyZWF0ZUFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICJDcmVhdGVUYXJnZXRHcm91cCIsDQogICAgICAgICAgICAgICAgICAgICAgICAiQ3JlYXRlTG9hZEJhbGFuY2VyIg0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiTnVsbCI6IHsNCiAgICAgICAgICAgICAgICAgICAgImF3czpSZXF1ZXN0VGFnL2VsYnYyLms4cy5hd3MvY2x1c3RlciI6ICJmYWxzZSINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAgICJFZmZlY3QiOiAiQWxsb3ciLA0KICAgICAgICAgICAgIkFjdGlvbiI6IFsNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6UmVnaXN0ZXJUYXJnZXRzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6RGVyZWdpc3RlclRhcmdldHMiDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIlJlc291cmNlIjogImFybjphd3M6ZWxhc3RpY2xvYWRiYWxhbmNpbmc6KjoqOnRhcmdldGdyb3VwLyovKiINCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICAgIkVmZmVjdCI6ICJBbGxvdyIsDQogICAgICAgICAgICAiQWN0aW9uIjogWw0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpTZXRXZWJBY2wiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpNb2RpZnlMaXN0ZW5lciIsDQogICAgICAgICAgICAgICAgImVsYXN0aWNsb2FkYmFsYW5jaW5nOkFkZExpc3RlbmVyQ2VydGlmaWNhdGVzIiwNCiAgICAgICAgICAgICAgICAiZWxhc3RpY2xvYWRiYWxhbmNpbmc6UmVtb3ZlTGlzdGVuZXJDZXJ0aWZpY2F0ZXMiLA0KICAgICAgICAgICAgICAgICJlbGFzdGljbG9hZGJhbGFuY2luZzpNb2RpZnlSdWxlIg0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICJSZXNvdXJjZSI6ICIqIg0KICAgICAgICB9DQogICAgXQ0KfQ==",
            "content_base64sha256": "8jVp9+wE1d3JH9XEjBHvh2RtJO2pPDuLLLjWuEMu3cw=",
            "content_base64sha512": "TjmX8c4BfnIPWpjw8ANgscckOJ3HW/90ZQ4uaj6WwMETeM8NOZ7L70iuX55Mq9FPGiQXECzcEdOUnEld3d1xAg==",
            "content_md5": "b4d26ffd7be1c49b96fe85d964886e22",
            "content_sha1": "52adf3e1329d0dbf73309c634ca161dc88cb7ac4",
            "content_sha256": "f23569f7ec04d5ddc91fd5c48c11ef87646d24eda93c3b8b2cb8d6b8432eddcc",
            "content_sha512": "4e3997f1ce017e720f5a98f0f00360b1c724389dc75bff74650e2e6a3e96c0c11378cf0d399ecbef48ae5f9e4cabd14f1a2417102cdc11d3949c495ddddd7102",
            "filename": "./alb-controller-policy.json",
            "id": "52adf3e1329d0dbf73309c634ca161dc88cb7ac4"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "cribr_app_repo",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:493834426110:repository/cribr-app-repo",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": true,
            "id": "cribr-app-repo",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "cribr-app-repo",
            "registry_id": "493834426110",
            "repository_url": "493834426110.dkr.ecr.us-east-1.amazonaws.com/cribr-app-repo",
            "tags": {
              "Environment": "dev",
              "Name": "cribr-app-repo",
              "Terraform": "true"
            },
            "tags_all": {
              "Environment": "dev",
              "Name": "cribr-app-repo",
              "Terraform": "true"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository_policy",
      "name": "cribr_app_repo_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cribr-app-repo",
            "policy": "{\"Statement\":[{\"Action\":[\"ecr:GetDownloadUrlForLayer\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::493834426110:role/cribr-cicd-role\"},\"Sid\":\"AllowPullFromCICDRole\"}],\"Version\":\"2012-10-17\"}",
            "registry_id": "493834426110",
            "repository": "cribr-app-repo"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_ecr_repository.cribr_app_repo"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "alb_controller",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::493834426110:policy/cribr-alb-controller-iam-policy",
            "attachment_count": 0,
            "description": "IAM policy for AWS Load Balancer Controller",
            "id": "arn:aws:iam::493834426110:policy/cribr-alb-controller-iam-policy",
            "name": "cribr-alb-controller-iam-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"iam:CreateServiceLinkedRole\"],\"Condition\":{\"StringEquals\":{\"iam:AWSServiceName\":\"elasticloadbalancing.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeAccountAttributes\",\"ec2:DescribeAddresses\",\"ec2:DescribeAvailabilityZones\",\"ec2:DescribeInternetGateways\",\"ec2:DescribeVpcs\",\"ec2:DescribeVpcPeeringConnections\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeInstances\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeTags\",\"ec2:GetCoipPoolUsage\",\"ec2:DescribeCoipPools\",\"ec2:GetSecurityGroupsForVpc\",\"elasticloadbalancing:DescribeLoadBalancers\",\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\"elasticloadbalancing:DescribeListeners\",\"elasticloadbalancing:DescribeListenerCertificates\",\"elasticloadbalancing:DescribeSSLPolicies\",\"elasticloadbalancing:DescribeRules\",\"elasticloadbalancing:DescribeTargetGroups\",\"elasticloadbalancing:DescribeTargetGroupAttributes\",\"elasticloadbalancing:DescribeTargetHealth\",\"elasticloadbalancing:DescribeTags\",\"elasticloadbalancing:DescribeTrustStores\",\"elasticloadbalancing:DescribeListenerAttributes\",\"elasticloadbalancing:DescribeCapacityReservation\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"cognito-idp:DescribeUserPoolClient\",\"acm:ListCertificates\",\"acm:DescribeCertificate\",\"iam:ListServerCertificates\",\"iam:GetServerCertificate\",\"waf-regional:GetWebACL\",\"waf-regional:GetWebACLForResource\",\"waf-regional:AssociateWebACL\",\"waf-regional:DisassociateWebACL\",\"wafv2:GetWebACL\",\"wafv2:GetWebACLForResource\",\"wafv2:AssociateWebACL\",\"wafv2:DisassociateWebACL\",\"shield:GetSubscriptionState\",\"shield:DescribeProtection\",\"shield:CreateProtection\",\"shield:DeleteProtection\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupIngress\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:CreateTags\"],\"Condition\":{\"Null\":{\"aws:RequestTag/elbv2.k8s.aws/cluster\":\"false\"},\"StringEquals\":{\"ec2:CreateAction\":\"CreateSecurityGroup\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:security-group/*\"},{\"Action\":[\"ec2:CreateTags\",\"ec2:DeleteTags\"],\"Condition\":{\"Null\":{\"aws:RequestTag/elbv2.k8s.aws/cluster\":\"true\",\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:*:*:security-group/*\"},{\"Action\":[\"ec2:AuthorizeSecurityGroupIngress\",\"ec2:RevokeSecurityGroupIngress\",\"ec2:DeleteSecurityGroup\"],\"Condition\":{\"Null\":{\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:CreateLoadBalancer\",\"elasticloadbalancing:CreateTargetGroup\"],\"Condition\":{\"Null\":{\"aws:RequestTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:CreateListener\",\"elasticloadbalancing:DeleteListener\",\"elasticloadbalancing:CreateRule\",\"elasticloadbalancing:DeleteRule\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:AddTags\",\"elasticloadbalancing:RemoveTags\"],\"Condition\":{\"Null\":{\"aws:RequestTag/elbv2.k8s.aws/cluster\":\"true\",\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"]},{\"Action\":[\"elasticloadbalancing:AddTags\",\"elasticloadbalancing:RemoveTags\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:*:*:listener/net/*/*/*\",\"arn:aws:elasticloadbalancing:*:*:listener/app/*/*/*\",\"arn:aws:elasticloadbalancing:*:*:listener-rule/net/*/*/*\",\"arn:aws:elasticloadbalancing:*:*:listener-rule/app/*/*/*\"]},{\"Action\":[\"elasticloadbalancing:ModifyLoadBalancerAttributes\",\"elasticloadbalancing:SetIpAddressType\",\"elasticloadbalancing:SetSecurityGroups\",\"elasticloadbalancing:SetSubnets\",\"elasticloadbalancing:DeleteLoadBalancer\",\"elasticloadbalancing:ModifyTargetGroup\",\"elasticloadbalancing:ModifyTargetGroupAttributes\",\"elasticloadbalancing:DeleteTargetGroup\",\"elasticloadbalancing:ModifyListenerAttributes\",\"elasticloadbalancing:ModifyCapacityReservation\"],\"Condition\":{\"Null\":{\"aws:ResourceTag/elbv2.k8s.aws/cluster\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"elasticloadbalancing:AddTags\"],\"Condition\":{\"Null\":{\"aws:RequestTag/elbv2.k8s.aws/cluster\":\"false\"},\"StringEquals\":{\"elasticloadbalancing:CreateAction\":[\"CreateTargetGroup\",\"CreateLoadBalancer\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/net/*/*\",\"arn:aws:elasticloadbalancing:*:*:loadbalancer/app/*/*\"]},{\"Action\":[\"elasticloadbalancing:RegisterTargets\",\"elasticloadbalancing:DeregisterTargets\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:elasticloadbalancing:*:*:targetgroup/*/*\"},{\"Action\":[\"elasticloadbalancing:SetWebAcl\",\"elasticloadbalancing:ModifyListener\",\"elasticloadbalancing:AddListenerCertificates\",\"elasticloadbalancing:RemoveListenerCertificates\",\"elasticloadbalancing:ModifyRule\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAXF6WTK37MEPTMVWT4",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "data.local_file.alb_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "alb_controller",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::493834426110:role/cribr-alb-controller-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.us-east-1.amazonaws.com/id/5EDCC1E2B0083CF2C2CBAE11049CF112:sub\":\"system:serviceaccount:kube-system:aws-load-balancer-controller\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::493834426110:oidc-provider/oidc.eks.us-east-1.amazonaws.com/id/5EDCC1E2B0083CF2C2CBAE11049CF112\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-11-04T21:09:46Z",
            "description": "",
            "force_detach_policies": false,
            "id": "cribr-alb-controller-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "cribr-alb-controller-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAXF6WTK37GCM7HUKI7"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "alb_controller_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cribr-alb-controller-role-20251104210947486700000001",
            "policy_arn": "arn:aws:iam::493834426110:policy/cribr-alb-controller-iam-policy",
            "role": "cribr-alb-controller-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.alb_controller",
            "aws_iam_role.alb_controller",
            "data.local_file.alb_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "alb_controller",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"].eks",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "aws-load-balancer-controller",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "aws-load-balancer-controller",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v2.8.0",
                "chart": "aws-load-balancer-controller",
                "first_deployed": 1762290650,
                "last_deployed": 1762290650,
                "name": "aws-load-balancer-controller",
                "namespace": "kube-system",
                "notes": "AWS Load Balancer controller installed!\n",
                "revision": 1,
                "values": "{\"clusterName\":\"cribr-cluster\",\"region\":\"us-east-1\",\"serviceAccount\":{\"create\":false,\"name\":\"aws-load-balancer-controller\"},\"vpcId\":\"vpc-0637b28c1cc0ed3e1\"}",
                "version": "1.8.0"
              }
            ],
            "name": "aws-load-balancer-controller",
            "namespace": "kube-system",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://aws.github.io/eks-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"clusterName\": \"cribr-cluster\"\n\"region\": \"us-east-1\"\n\"serviceAccount\":\n  \"create\": false\n  \"name\": \"aws-load-balancer-controller\"\n\"vpcId\": \"vpc-0637b28c1cc0ed3e1\"\n"
            ],
            "verify": false,
            "version": "1.8.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_policy.alb_controller",
            "aws_iam_role.alb_controller",
            "aws_iam_role_policy_attachment.alb_controller_attach",
            "data.aws_eks_cluster.cribr",
            "data.aws_eks_cluster_auth.cribr",
            "data.local_file.alb_policy",
            "kubernetes_service_account.alb_controller_sa",
            "time_sleep.wait_for_rbac"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubernetes_service_account",
      "name": "alb_controller_sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": true,
            "default_secret_name": "",
            "id": "kube-system/aws-load-balancer-controller",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {
                  "eks.amazonaws.com/role-arn": "arn:aws:iam::493834426110:role/cribr-alb-controller-role"
                },
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "aws-load-balancer-controller",
                "namespace": "kube-system",
                "resource_version": "3718",
                "uid": "372c0779-7282-4ade-80a5-f586791b0bca"
              }
            ],
            "secret": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ServiceAccount",
            "name": "aws-load-balancer-controller",
            "namespace": "kube-system"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_iam_policy.alb_controller",
            "aws_iam_role.alb_controller",
            "aws_iam_role_policy_attachment.alb_controller_attach",
            "data.aws_eks_cluster.cribr",
            "data.aws_eks_cluster_auth.cribr",
            "data.local_file.alb_policy",
            "time_sleep.wait_for_rbac"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_for_rbac",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "60s",
            "destroy_duration": null,
            "id": "2025-11-04T21:10:47Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_policy.alb_controller",
            "aws_iam_role.alb_controller",
            "aws_iam_role_policy_attachment.alb_controller_attach",
            "data.local_file.alb_policy"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
